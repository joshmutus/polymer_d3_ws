
<link rel="import" href="bower_components/paper-item/paper-item.html">
<polymer-element>
  <template>
      <span on-click="simpleClick">{{dir_name}}</span>
  </template>

  <script>
    Polymer({
      is:"dir-item",
      properties: {
        dir_name: String
      },
        elem_sock: {type: Object}, //global variable for the socket connection
        ready: function(){
        if(! ("WebSocket" in window)) WebSocket = MozWebSocket; // firefox
        this.elem_sock = new WebSocket("ws://localhost:8076");
        var socket = this.elem_sock; //for some reason I have to do this.

        // open the socket
        socket.onopen = function(event) {
        socket.send('test');
        }
        },

        simpleClick: function() {
            this.elem_sock.send(this.dir_name);
        }
    });
  </script>
</polymer-element>